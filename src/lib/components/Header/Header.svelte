<script>
  import { LogOut } from "lucide-svelte";
  import AvatarDropdown from "./AvatarDropdown.svelte";
  import AvatarDropdownLink from "./AvatarDropdownLink.svelte";
</script>

<header
  class="sticky top-0 inset-x-0 flex flex-wrap sm:justify-start sm:flex-nowrap z-[48] w-full bg-white border-b text-sm py-2.5 sm:py-4 lg:ps-64 dark:bg-gray-800 dark:border-gray-700"
>
  <nav
    class="flex basis-full items-center w-full mx-auto px-4 sm:px-6 md:px-8"
    aria-label="Global"
  >
    <div class="me-5 lg:me-0 lg:hidden">
      <a
        class="flex-none text-xl font-semibold dark:text-white"
        href="/"
        aria-label="Brand">POSO</a
      >
    </div>

    <div
      class="w-full flex items-center justify-end ms-auto sm:justify-between sm:gap-x-3 sm:order-3"
    >
      <div class="sm:hidden">
        <button
          type="button"
          class="w-[2.375rem] h-[2.375rem] inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-gray-700 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
        >
          <svg
            class="flex-shrink-0 size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            ><circle cx="11" cy="11" r="8" /><path d="m21 21-4.3-4.3" />
          </svg>
        </button>
      </div>

      <div class="hidden sm:block"></div>

      <div class="flex flex-row items-center justify-end gap-2">
        <button
          type="button"
          class="w-[2.375rem] h-[2.375rem] inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-gray-700 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
        >
          <svg
            class="flex-shrink-0 size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            ><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9" /><path
              d="M10.3 21a1.94 1.94 0 0 0 3.4 0"
            /></svg
          >
        </button>

        <AvatarDropdown>
          <AvatarDropdownLink>
            <form action="/auth/signout" method="POST">
              <button type="submit" class="flex gap-2">
                <LogOut /> Logout
              </button>
            </form>
          </AvatarDropdownLink>
        </AvatarDropdown>
      </div>
    </div>
  </nav>
</header>
